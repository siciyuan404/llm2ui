---
inclusion: always
---

# 文档维护自动提醒

当你修改或创建代码文件时，**必须**执行以下文档维护步骤：

## 0. 先读取现有文档（重要！）

修改文件前，**必须先检查并读取**：
- 所属文件夹是否已有 README.md？**如果有，先用 readFile 读取它**
- 文件是否已有头部注释？**如果有，保留并更新**

⚠️ **禁止直接覆盖创建**：不要在不读取的情况下直接创建 README.md！

## 1. 文件头部注释

#[[file:.kiro/templates/file-header-ts.txt]]

## 2. 文件夹 README.md

#[[file:.kiro/templates/folder-readme.md]]

- **如果 README.md 已存在**：先读取，然后增量更新文件索引部分
- **如果 README.md 不存在**：使用上述模板创建新文件

## 3. 上级目录传播

检查上级目录的 README.md 是否需要更新：
- 如果上级目录有 README.md，检查是否需要更新文件索引
- 如果当前目录是新建的，需要在上级目录的 README.md 中添加引用

## 4. 文档维护报告

完成代码修改后，输出以下格式的报告：

```
📝 文档维护报告
================
修改的文件:
- [文件路径]: [修改类型: 新建/更新/删除]

README.md 更新:
- [目录路径]/README.md: [状态: 已更新/已创建/无需更新]

上级目录检查:
- [上级目录路径]: [状态: 已更新/无需更新]
```
