# showcase

<!-- 一旦我所属的文件夹有所变化，请更新我 -->

## 架构说明

组件展示模块，用于展示和管理 LLM2UI 系统中的所有已注册组件。
提供组件浏览、搜索、筛选、预览等功能，支持多平台和多分类筛选。
选中组件后显示详情面板，包含预览、属性和案例三个标签页。

## 路由配置

组件展示页面通过 React Router 配置为独立路由：
- 路由路径: `/showcase`
- 主界面入口: 顶部导航栏"组件库"链接
- 返回主界面: 侧边栏"返回"链接

## 文件索引

| 文件名 | 功能描述 |
|--------|----------|
| index.ts | 模块导出入口，汇总所有组件和类型 |
| ComponentShowcase.tsx | 主展示页面，包含侧边栏筛选、组件网格/列表展示和详情面板 |
| ComponentList.tsx | 组件列表展示，支持网格/列表视图切换和空状态处理 |
| ComponentCard.tsx | 组件卡片，展示单个组件信息和预览，支持网格/列表两种视图模式 |
| CategoryFilter.tsx | 分类筛选器，按组件类别过滤显示 |
| SearchInput.tsx | 搜索输入框，支持实时搜索和防抖 |
| PlatformSwitcher.tsx | 平台切换器，支持四种平台类型筛选 |
| LivePreview.tsx | 实时预览组件，渲染组件定义为交互式预览，支持响应式尺寸 |
| PropsPanel.tsx | 属性面板，显示组件可配置属性及其类型、必填状态、默认值、枚举值和描述，集成版本选择器 |
| ExamplesTab.tsx | 案例展示标签页，显示组件使用案例、JSON Schema 代码、复制和编辑器打开功能、版本迁移指南 |
| IconLibrary.tsx | 图标库展示页面，网格展示所有图标，支持搜索、分类筛选、大小/颜色预览、点击复制 |
| ResponsivePreviewSelector.tsx | 响应式预览选择器，支持桌面/平板/手机三种预览尺寸切换 |
| FullscreenPreview.tsx | 全屏预览模态框，支持组件全屏预览、主题切换、响应式尺寸选择 |
| VersionSelector.tsx | 版本选择器，显示当前版本和可用版本列表，支持版本切换 |
| UpgradeAlert.tsx | 升级提示组件，显示版本升级建议和废弃警告 |
| CustomExampleForm.tsx | 自定义案例提交表单，支持输入标题、描述、JSON Schema，带实时预览和验证 |
| PlatformComparison.tsx | 平台差异对比组件，并排显示同一组件在不同平台的预览，高亮显示属性/样式/事件差异 |

## 组件说明

### ComponentShowcase
主展示页面组件，整合所有子组件，提供完整的组件浏览体验。
- 三栏布局：侧边栏筛选 + 组件列表 + 详情面板
- 选中组件后显示详情面板
- 详情面板包含预览、属性、案例三个标签页
- 支持"在编辑器中打开"功能，将 Schema 传递到主编辑器

### ComponentList
组件列表展示组件，支持：
- 网格视图（Grid View）
- 列表视图（List View）
- 深色/浅色主题预览
- 空状态提示（根据上下文显示不同消息）
  - 无注册组件时显示注册提示
  - 搜索无结果时显示搜索建议
  - 分类筛选无结果时显示分类提示
  - 其他筛选无结果时显示清除筛选按钮
- 组件选择交互
- 变体/状态切换控制（可通过 showStateControls 属性控制）

### ComponentCard
组件卡片组件，支持：
- 网格视图卡片（带预览区域和状态切换）
- 列表视图行（紧凑布局和状态切换）
- 深色/浅色主题预览
- Error Boundary 错误处理（渲染失败时显示友好提示和重试按钮）
- 废弃组件标识
- 键盘导航支持
- 选中状态显示
- 自定义预览渲染器
- 变体/状态切换（默认、悬停、禁用、聚焦、激活）

### CategoryFilter
分类筛选器组件，支持：
- 显示所有分类选项
- 显示每个分类的组件数量
- 单选筛选模式

### SearchInput
搜索输入组件，支持：
- 实时搜索过滤
- 可选防抖延迟
- 清除按钮
- Escape 键清除

### PlatformSwitcher
平台切换器组件，支持：
- 四种平台类型（PC Web、Mobile Web、Mobile Native、PC Desktop）
- 全部平台选项
- 平台图标显示

### LivePreview
实时预览组件，支持：
- 使用 UIRenderer 实时渲染组件
- 多种预览状态（默认、悬停、禁用、聚焦、激活）
- 深色/浅色主题切换预览
- 响应式预览尺寸（桌面、平板、手机）
- 状态控制按钮切换
- ErrorBoundary 错误处理
- 组件示例预览（ExamplePreview）
- 变体对比预览（VariantPreview）

### ResponsivePreviewSelector
响应式预览选择器组件，支持：
- 三种预览尺寸（桌面 1280px、平板 768px、手机 375px）
- 设备图标显示
- 尺寸描述提示
- 键盘导航支持
- 禁用状态

### FullscreenPreview
全屏预览模态框组件，支持：
- Portal 渲染确保正确的 z-index 层叠
- 深色/浅色主题切换
- 响应式尺寸选择（桌面、平板、手机）
- 键盘导航（Escape 键关闭）
- 点击背景关闭
- 组件信息头部显示
- 状态控制（默认、悬停、禁用等）
- 防止背景滚动

### PropsPanel
属性面板组件，支持：
- 显示组件所有可配置属性
- 显示属性类型（带颜色标识）
- 显示必填/可选状态
- 显示默认值
- 显示枚举值列表（针对 string 类型）
- 显示属性描述说明
- 属性排序（必填优先，然后按字母排序）
- 空状态提示（无属性时）
- 版本选择器（显示当前版本和可用版本列表）

### VersionSelector
版本选择器组件，支持：
- 显示当前组件版本
- 下拉选择可用版本列表
- 高亮显示最新版本
- 选中版本显示勾选标记
- 键盘导航支持（Escape 关闭、Enter/Space 打开）
- 单版本时显示为简单徽章
- 支持禁用状态
- 两种尺寸（sm/md）

### UpgradeAlert
升级提示组件，支持：
- 显示废弃警告（当组件 deprecated 为 true 时）
- 显示废弃消息（deprecationMessage）
- 显示版本升级建议（当有更新版本可用时）
- 显示当前版本和最新版本对比
- 提供升级按钮回调
- 紧凑模式（compact）适用于空间受限场景
- 集成到 PropsPanel 和 DetailPanel 中

### ExamplesTab
案例展示标签页组件，支持：
- 显示组件所有使用案例
- 每个案例包含标题、描述和实时预览
- JSON Schema 代码展示（可折叠）
- 一键复制 Schema 到剪贴板（带状态反馈）
- "在编辑器中打开"功能（通过 sessionStorage 传递 Schema）
- 空状态提示（无案例时）
- 版本迁移指南（显示版本变更说明）
  - 显示当前版本和可用版本列表
  - 显示版本变更类型（破坏性变更、新功能、修复、废弃）
  - 提供迁移提示和建议
- 用户自定义案例（Requirements 11.5）
  - 区分系统案例和用户案例（不同颜色标识）
  - 系统案例显示蓝色徽章，用户案例显示紫色徽章
  - 支持添加自定义案例（通过 CustomExampleForm）
  - 支持删除用户自定义案例（带确认对话框）
  - 自定义案例存储在 localStorage 中

### IconLibrary
图标库展示组件，支持：
- 网格展示所有可用图标
- 按名称和标签搜索图标
- 按分类筛选图标（通用、箭头、社交、文件、媒体、操作、导航、通讯）
- 图标大小预览（16px、24px、32px、48px）
- 图标颜色预览（默认、黑色、白色、蓝色、绿色、红色、橙色、紫色）
- 点击图标复制使用代码
- 复制成功状态反馈
- 悬停显示图标标签

### CustomExampleForm
自定义案例提交表单组件，支持：
- 标题输入（必填，2-100 字符）
- 描述输入（可选，最多 500 字符）
- JSON Schema 编辑器（带语法验证）
- 实时预览 Schema 渲染效果
- 表单验证和错误提示
- JSON 自动格式化（失焦时）
- 提交和取消操作
- 字符计数显示

### PlatformComparison
平台差异对比组件，支持：
- 并排显示同一组件在四个平台的预览（PC Web、Mobile Web、Mobile Native、PC Desktop）
- 显示每个平台的支持状态（支持/不支持）
- 两种视图模式切换：
  - 预览对比模式：点击平台卡片查看与 PC Web 的详细差异对比
  - 差异表格模式：显示所有平台的属性/样式/事件支持对比表格
- 属性支持对比：
  - 显示组件所有属性在各平台的支持状态
  - 显示属性重命名映射（如 onClick → onPress）
  - 高亮显示有差异的属性行
- 样式支持对比：
  - 显示常用样式属性在各平台的支持状态
  - 显示样式属性重命名映射
  - 高亮显示有差异的样式行
- 事件支持对比：
  - 显示常用事件在各平台的支持状态
  - 显示事件重命名映射（如 onClick → onTap）
  - 高亮显示有差异的事件行
- 差异筛选：可选择仅显示有差异的项目
- 差异类型颜色标识：
  - 绿色圆圈：支持
  - 红色圆圈：不支持
  - 黄色圆点：有差异
  - 黄色箭头文字：属性重命名
- 兼容性状态汇总（完全兼容/N 项差异）
- 图例说明各种标识含义
- 深色/浅色主题支持

## 状态管理

`ShowcaseState` 接口定义了展示页面的完整状态：
- `selectedPlatform`: 当前选中的平台筛选
- `selectedCategory`: 当前选中的分类筛选
- `searchQuery`: 搜索关键词
- `viewMode`: 视图模式（grid/list）
- `previewTheme`: 预览主题（light/dark）
- `previewSize`: 预览尺寸（desktop/tablet/mobile）
- `selectedComponent`: 当前选中的组件
- `selectedTab`: 当前选中的标签页（preview/props/examples）
- `isFullscreenOpen`: 全屏预览是否打开

## 更新提醒

任何文件变更后，请更新此文档和相关的上级文档。
